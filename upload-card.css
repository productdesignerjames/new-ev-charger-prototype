:root {
  --uc-radius:14px;
  --uc-border:2px;
  --uc-col-bg:#ffffff;
  --uc-col-border:#d6e2eb;
  --uc-col-text:#002f5c;
  --uc-col-muted:#4d6a85;
  --uc-col-focus:#004ecc;
  --uc-col-pass:#0c8f3d;
  --uc-col-warn:#ffc72c;
  --uc-col-fail:#d92d20;
  --uc-col-progress:#0093f5;
  --uc-shadow:0 2px 4px -1px rgba(0,0,0,.06),0 4px 12px -2px rgba(0,0,0,.05);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* Card shell */
.upload-card {
  background:var(--uc-col-bg);
  border:var(--uc-border) solid var(--uc-col-border);
  border-radius:var(--uc-radius);
  box-shadow:var(--uc-shadow);
  position:relative;
  transition:border-color .25s,box-shadow .25s;
}
.upload-card[data-state*=result-pass],
.upload-card[data-state=completed]{border-color:var(--uc-col-pass);}
.upload-card[data-state*=result-retry],
.upload-card[data-state*=result-improve]{border-color:var(--uc-col-warn);}
.upload-card[data-state*=result-failure]{border-color:var(--uc-col-fail);}
.upload-card:focus-within{box-shadow:0 0 0 3px #004ecc33,var(--uc-shadow);}

.upload-card__inner{padding:16px clamp(16px,2vw,28px);}
.upload-card__meta{font-size:.75rem;font-weight:600;color:var(--uc-col-muted);letter-spacing:.5px;margin-bottom:8px;}

.upload-card__body{display:grid;grid-template-columns:92px 1fr auto;gap:16px;align-items:center;}
@media (max-width:600px){
  .upload-card__body{
    grid-template-columns:72px 1fr;
    grid-template-areas:
      "media title"
      "media desc"
      "media hint"
      "media actions"
      "media progress";
  }
  .upload-card__media{grid-area:media;}
  .upload-card__text{grid-area:title;}
  .upload-card__actions{grid-area:actions;}
  .upload-card__progress{grid-area:progress;}
}

.upload-card__media{
  position:relative;
  width:92px;height:92px;
  border:1px dashed #99b8d1;
  border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  background:#f6fbff;
  overflow:hidden;
}

.upload-card__placeholder{
  display:flex;align-items:center;justify-content:center;
  width:100%;height:100%;pointer-events:none;
  transition:opacity .25s;
}

/* Thumbnail element (deferred visibility) */
.upload-card__thumb{
  position:absolute;inset:0;
  width:100%;height:100%;
  object-fit:cover;
  display:none;
}

/* Deferred reveal: only after result-* or completed */
.upload-card[data-has-image=true] .upload-card__thumb{display:none;}
.upload-card[data-has-image=true][data-state^=result-] .upload-card__thumb,
.upload-card[data-has-image=true][data-state=completed] .upload-card__thumb{display:block;}
.upload-card[data-has-image=true] .upload-card__placeholder{opacity:1;transition:opacity .25s;}
.upload-card[data-has-image=true][data-state^=result-] .upload-card__placeholder,
.upload-card[data-has-image=true][data-state=completed] .upload-card__placeholder{opacity:0;}

/* Status icon (tick / warn / fail) */
.upload-card__status-icon{
  position:absolute;top:6px;left:6px;
  width:22px;height:22px;border-radius:50%;
  display:none;color:#fff;font-size:14px;font-weight:700;
  align-items:center;justify-content:center;
}
.upload-card[data-state*=result-pass] .upload-card__status-icon,
.upload-card[data-state=completed] .upload-card__status-icon{background:var(--uc-col-pass);}
.upload-card[data-state*=result-retry] .upload-card__status-icon,
.upload-card[data-state*=result-improve] .upload-card__status-icon{background:var(--uc-col-warn);}
.upload-card[data-state*=result-failure] .upload-card__status-icon{background:var(--uc-col-fail);}
.upload-card[data-state*=result-pass] .upload-card__status-icon,
.upload-card[data-state*=result-retry] .upload-card__status-icon,
.upload-card[data-state*=result-improve] .upload-card__status-icon,
.upload-card[data-state*=result-failure] .upload-card__status-icon,
.upload-card[data-state=completed] .upload-card__status-icon{display:flex;}
.upload-card[data-state*=result-pass] .upload-card__status-icon::before,
.upload-card[data-state=completed] .upload-card__status-icon::before{content:"✔";}
.upload-card[data-state*=result-retry] .upload-card__status-icon::before,
.upload-card[data-state*=result-improve] .upload-card__status-icon::before{content:"!";}
.upload-card[data-state*=result-failure] .upload-card__status-icon::before{content:"✖";}

/* Delete overlay */
.upload-card__delete{
  position:absolute;inset:0;
  background:rgba(0,0,0,.55);color:#fff;
  font-size:30px;border:0;opacity:0;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  transition:opacity .2s;
}
.upload-card__delete span{transform:translateY(-2px);}
.upload-card[data-state=completed] .upload-card__media:hover .upload-card__delete,
.upload-card[data-state=completed] .upload-card__media:focus-within .upload-card__delete{opacity:1;}
.upload-card:not([data-state=completed]) .upload-card__delete{display:none;}

.upload-card__title{font-size:1rem;margin:.25rem 0 .25rem;line-height:1.25;}
.upload-card__desc{margin:.25rem 0;font-size:.825rem;line-height:1.3;color:var(--uc-col-muted);}
.upload-card__hint{margin:.25rem 0 0;font-size:.7rem;font-weight:500;color:#805300;display:none;}
.upload-card[data-state*=result-improve] .upload-card__hint{display:block;}

.upload-card__actions{display:flex;flex-direction:column;gap:8px;}

.uc-btn{
  --btn-bg:#004ecc;--btn-bg-h:#003b99;--btn-cl:#fff;
  padding:10px 18px;border-radius:24px;border:0;
  font-size:.85rem;font-weight:600;cursor:pointer;
  letter-spacing:.5px;background:var(--btn-bg);color:var(--btn-cl);
  display:inline-flex;align-items:center;gap:6px;
  transition:background .2s;
}
.uc-btn:hover{background:var(--btn-bg-h);}
.uc-btn-primary:focus-visible{outline:3px solid #004ecc66;outline-offset:2px;}

.upload-card__progress,
.upload-card__analysing{
  display:none;
  place-items:center;
  font-size:.8rem;
  gap:8px;
  color:var(--uc-col-muted);
}

.upload-card[data-state=progress] .upload-card__progress{display:grid;}
.upload-card[data-state=analysing] .upload-card__analysing{display:flex;}

.upload-card[data-state=progress] .upload-card__actions,
.upload-card[data-state=analysing] .upload-card__actions{display:none;}
.upload-card[data-state=completed] .upload-card__actions{display:none;}

/* Progress ring essentials */
.progress-ring{position:relative;width:64px;height:64px;}
.progress-ring__fill{position:absolute;inset:0;border:6px solid #0093f5;border-radius:50%;clip:rect(0,32px,64px,0);transform:rotate(0);transition:transform .2s linear;}
.progress-ring__fill--fix{clip:rect(0,64px,64px,32px);display:none;}
.progress-ring[data-over50=true] .progress-ring__fill--fix{display:block;}
.progress-ring__inner{position:absolute;inset:6px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font:600 12px/1 system-ui;border:2px solid #e1f3ff;color:#0093f5;}

/* Analysing spinner */
.spinner{
  width:28px;height:28px;
  border:4px solid #d9ecf9;border-top-color:var(--uc-col-progress);
  border-radius:50%;animation:spin .75s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg);}}

/* Button variants in result states */
.upload-card[data-state*=result-retry] .uc-btn,
.upload-card[data-state*=result-improve] .uc-btn{--btn-bg:var(--uc-col-warn);--btn-bg-h:#e6b21d;}
.upload-card[data-state*=result-failure] .uc-btn{--btn-bg:var(--uc-col-fail);--btn-bg-h:#b51c11;}
.upload-card[data-state*=result-pass] .uc-btn{--btn-bg:var(--uc-col-pass);--btn-bg-h:#067232;}

.upload-card[data-state=initial] .upload-card__progress,
.upload-card[data-state=initial] .upload-card__analysing{display:none;}

.upload-card__primary{white-space:nowrap;}

::-webkit-scrollbar{height:10px;}
::-webkit-scrollbar-track{background:#dbeefc;border-radius:6px;}
::-webkit-scrollbar-thumb{background:#7cbef1;border-radius:6px;}
::-webkit-scrollbar-thumb:hover{background:#52a9e9;}

/* Hide camera button by default (desktop) */
.upload-card__camera { display:none; }

/* Show on mobile */
@media (max-width:759px) {
  .upload-card__camera { display:inline-flex; }
}

/* Hide during non-interactive states */
.upload-card[data-state=progress] .upload-card__camera,
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload_card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=progress] .upload-card__camera,
.upload-card[data-state=analysing] .upload-card__camera,
.upload_card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload_card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload_card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state*=result-pass] .upload-card__camera { display:none !important; }
.upload-card[data-state=analysing] .upload-card__camera,
.upload-card[data-state=completed] .upload-card__camera,
.upload_card[data-state*=result-pass] .upload-card__camera { display:none !important; }

